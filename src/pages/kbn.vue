<template>
  <n-card class="cb-kbn__opendays">å·²è¥ä¸š {{ openDays }} å¤©</n-card>
  <n-h1>Congb19 çš„è§£å¿§æ‚è´§é“º </n-h1>
  <n-button-group size="large">
    <n-button type="success" round @click="handleHappy">
      <template #icon> ğŸ›« </template>
      æˆ‘è¦åˆ†äº«å¿«ä¹
    </n-button>
    <n-button type="error" round @click="handleSad">
      <template #icon> ğŸ’¢ </template>
      æˆ‘æœ‰çƒ¦æ¼æ±‚åŠ©
    </n-button>
  </n-button-group>
</template>

<script lang="ts">
import { ref, defineComponent, onMounted } from 'vue';
import store from '../store';
import { getHappinessList, postInfo } from '../api';
export default defineComponent({
  setup: () => {
    let openDays = ref(1);
    let happinessList = ref([
      {
        floor: 1,
        content: 'ä»Šå¤©åƒäº†é¥­',
        created_time: '20210924',
        author_name: 'lyc',
      },
    ]);
    const setOpenDays = () => {
      let openday = new Date(2021, 8, 24);
      openDays.value = Math.ceil(
        (Date.now() - openday.getTime()) / (1000 * 60 * 60 * 24)
      );
    };
    const welcome = () => {
      console.log('æ¬¢è¿å¤§å®¶å…‰ä¸´ï¼å·²è¥ä¸š', openDays.value, 'å¤©');
    };
    const handleHappy = () => {
      //å‘é€
    };
    const handleSad = () => {
      //å‘é€
    };
    onMounted(async () => {
      setOpenDays();
      welcome();
      // console.log(Date.now(), openday.getTime());
      // happinessList.value = await getHappinessList();
    });
    return { openDays, handleHappy, handleSad };
  },
});
</script>

<style lang="scss" scoped>
.cb-kbn__opendays {
  width: 150px;
  position: absolute;
  right: 10px;
  // float: right;
}
</style>
